import{_ as v}from"./ImagePreviewDialog-RnKi1V_e.js";import{_ as x,r as m,o as I,c as g,a as p,e as s,b as o,w as n,d as i,t as _,f as A,F as B,g as D,h as C}from"./index-DPC2YzsM.js";const N={style:{background:"transparent !important"}},j=["id"],U=["src"],V={class:"tl-column"},$={class:"tl-column"},z={class:"tl-column"},F={class:"image-list"},O={__name:"Blocks",setup(P){const f=m(null),h=m([]),k=c=>{h.value=c,f.value.openDialog()},b=m([]);return I(async()=>{try{const w=await(await fetch("/mod_web/assets/desc/blocks.json")).json(),l="/mod_web/";b.value=w.map(t=>{const a=Object.keys(t)[0],d=t[a].AdditionalImg||t[a].additionalImg||[],u=Array.isArray(d)?d.map(r=>/^https?:\/\//.test(r)?r:l+r.replace(/^\/+/,"")):[];let e=t[a].Icon||t[a].icon||"";return e=l+e,{name:t[a].Name||t[a].name,icon:e,approach:t[a].Approach||t[a].approach,usage:t[a].Usage||t[a].usage,additional:t[a].Additional||t[a].additional,additionalImg:u}})}catch(c){console.error("加载 JSON 失败:",c)}}),(c,w)=>{const l=i("el-tooltip"),t=i("el-table-column"),a=i("el-image"),d=i("el-table"),u=i("el-backtop");return p(),g("div",null,[s("div",N,[o(d,{data:b.value,style:{width:"100%",background:"transparent"},height:"100%",border:"","header-cell-style":{background:"transparent"},"cell-style":{background:"transparent"}},{default:n(()=>[o(t,{prop:"name",label:"Block",style:{"font-weight":"bold","font-size":"30px"}},{default:n(e=>[o(l,{class:"box-item",effect:"light",content:e.row.name,placement:"top"},{default:n(()=>[s("span",{id:"row-"+e.row.name,class:"tl-column"},_(e.row.name),9,j)]),_:2},1032,["content"])]),_:1}),o(t,{label:"icon"},{default:n(({row:e})=>[e.icon?(p(),g("img",{key:0,src:e.icon,alt:"icon",style:{width:"60px",height:"60px"}},null,8,U)):A("",!0)]),_:1}),o(t,{prop:"approach",label:"Approach"},{default:n(e=>[o(l,{class:"box-item",effect:"light",content:e.row.approach,placement:"top"},{default:n(()=>[s("span",V,_(e.row.approach),1)]),_:2},1032,["content"])]),_:1}),o(t,{prop:"usage",label:"Usage",resizable:""},{default:n(e=>[o(l,{class:"box-item",effect:"light",content:e.row.usage,placement:"top"},{default:n(()=>[s("span",$,_(e.row.usage),1)]),_:2},1032,["content"])]),_:1}),o(t,{prop:"additional",label:"Additional"},{default:n(e=>[o(l,{class:"box-item",effect:"light",content:e.row.additional,placement:"top"},{default:n(()=>[s("span",z,_(e.row.additional),1)]),_:2},1032,["content"])]),_:1}),o(t,{label:"Images"},{default:n(({row:e})=>[s("div",F,[(p(!0),g(B,null,D(e.additionalImg,(r,y)=>(p(),C(a,{key:y,src:r,fit:"cover",class:"thumbnail",onClick:E=>k(e.additionalImg)},null,8,["src","onClick"]))),128))])]),_:1})]),_:1},8,["data"])]),o(v,{ref_key:"previewDialog",ref:f,images:h.value},null,8,["images"]),o(u,{right:40,bottom:40})])}}},M=x(O,[["__scopeId","data-v-02977c97"]]);export{M as default};
